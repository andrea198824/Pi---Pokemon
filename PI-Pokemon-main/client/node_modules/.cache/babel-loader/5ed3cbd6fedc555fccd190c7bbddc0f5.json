{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andre\\\\Desktop\\\\Henry\\\\Final PI\\\\Pi---Pokemon\\\\PI-Pokemon-main\\\\client\\\\src\\\\components\\\\CreatePokemon.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postPokemon, getTypes, getPokemon } from '../actions/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction validate(input) {\n  let errors = {};\n\n  if (input.name === '') {\n    errors.name = 'Es necesario un nombre';\n  }\n\n  if (input.hp < 0) {\n    errors.hp = 'Debe ser mayor a 0';\n  }\n\n  if (input.attack < 0) {\n    errors.attack = 'Debe ser mayor a 0';\n  }\n\n  if (input.defense < 0) {\n    errors.defense = 'Debe ser mayor a 0';\n  }\n\n  if (input.speed < 0) {\n    errors.speed = 'Debe ser mayor a 0';\n  }\n\n  if (input.height < 0) {\n    errors.height = 'Debe ser mayor a 0';\n  }\n\n  if (input.weight < 0) {\n    errors.weight = 'Debe ser mayor a 0';\n  }\n\n  if (input.types.length === 0) {\n    errors.types = 'Debe tener al menos un tipo';\n  } else if (!input.image) {\n    errors.image = \"Please insert an image URL\";\n  } else if (!/(http(s?):)([/|.|\\w|\\s|-])*\\.(?:jpg|gif|png)/.test(input.image)) {\n    errors.image = \"Please insert a valid image URL\";\n  }\n\n  return errors;\n}\n\nconst CreatePokemon = () => {\n  _s();\n\n  var _input$types;\n\n  const dispatch = useDispatch();\n  const history = useNavigate();\n  const types = useSelector(state => state.types);\n  const pokemons = useSelector(state => state.pokemons);\n  const [input, setInput] = useState({\n    name: \"\",\n    hp: \"\",\n    attack: \"\",\n    defense: \"\",\n    speed: \"\",\n    height: \"\",\n    weight: \"\",\n    types: []\n  });\n  const [errors, setErrors] = useState({});\n  const [button, setButton] = useState(true);\n  useEffect(() => {\n    dispatch(getTypes());\n    dispatch(getPokemon()); // eslint-disable-next-line\n  }, []);\n\n  function handleOnChange(e) {\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  function handleSelect(e) {\n    setInput({ ...input,\n      types: Array.from(new Set([...input.types, e.target.value]))\n    });\n\n    if (input.name === '' || input.hp === '' || input.attack === '' || input.defense === '' || input.height === '' || input.weight === '' || input.types.length < 0) {\n      setButton(true);\n    } else {\n      setButton(false);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (pokemons.find(poke => poke.name.toLowerCase() === input.name.toLowerCase().trim())) {\n      alert(\"Ya existe el Pokemon\");\n      setErrors({ ...input,\n        [e.target.name]: \"PokÃ©mon duplicated\"\n      });\n      history.push('/home');\n    } else {\n      dispatch(postPokemon(input));\n      alert('Pokemon Created');\n      setInput({\n        name: \"\",\n        hp: \"\",\n        attack: \"\",\n        defense: \"\",\n        speed: \"\",\n        height: \"\",\n        weight: \"\",\n        types: []\n      });\n      history.push('/home');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/home\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Volver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Cre\\xE1 tu propio Pokemon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: style.form,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: style.name,\n        children: \"Nombre: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: input.name,\n        name: \"name\",\n        placeholder: \"Name...\",\n        onChange: handleOnChange,\n        className: style.inputName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: style.hp,\n        children: \"HP: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: input.hp,\n        name: \"hp\",\n        placeholder: \"HP...\",\n        onChange: handleOnChange,\n        className: style.inputHp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), errors.hp && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.hp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: style.attack,\n        children: \"Ataque: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: input.attack,\n        name: \"attack\",\n        placeholder: \"Attack...\",\n        onChange: handleOnChange,\n        className: style.inputAttack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), errors.attack && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.attack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: style.defense,\n        children: \"Defensa: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: input.defense,\n        name: \"defense\",\n        placeholder: \"Defense...\",\n        onChange: handleOnChange,\n        className: style.inputDefense\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this), errors.defense && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.defense\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: style.speed,\n        children: \"Velocidad: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: input.speed,\n        name: \"speed\",\n        placeholder: \"Speed...\",\n        onChange: handleOnChange,\n        className: style.inputSpeed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this), errors.speed && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.speed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: style.height,\n        children: \"Altura: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: input.height,\n        name: \"height\",\n        placeholder: \"Height...\",\n        onChange: handleOnChange,\n        className: style.inputHeight\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this), errors.height && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.height\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: style.weight,\n        children: \"Peso: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: input.weight,\n        name: \"weight\",\n        placeholder: \"Peso...\",\n        onChange: handleOnChange,\n        className: style.inputWeight\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this), errors.weight && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.weight\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: \"DEFAULT\",\n        onChange: e => handleSelect(e),\n        className: style.select,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"DEFAULT\",\n          disabled: true,\n          children: \"Tipos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }, this), types === null || types === void 0 ? void 0 : types.map(t => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: t.name,\n            children: t.name\n          }, t.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: style.ul,\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          className: style.li,\n          children: (_input$types = input.types) === null || _input$types === void 0 ? void 0 : _input$types.map(e => e + ' ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: style.buttonCreate,\n        disabled: button,\n        children: \"Crear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreatePokemon, \"246Zp17rm5r6adMWJ2azc/xIAag=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector];\n});\n\n_c = CreatePokemon;\nexport default CreatePokemon;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePokemon\");","map":{"version":3,"sources":["C:/Users/andre/Desktop/Henry/Final PI/Pi---Pokemon/PI-Pokemon-main/client/src/components/CreatePokemon.jsx"],"names":["React","useState","useEffect","Link","useNavigate","useDispatch","useSelector","postPokemon","getTypes","getPokemon","validate","input","errors","name","hp","attack","defense","speed","height","weight","types","length","image","test","CreatePokemon","dispatch","history","state","pokemons","setInput","setErrors","button","setButton","handleOnChange","e","target","value","handleSelect","Array","from","Set","handleSubmit","preventDefault","find","poke","toLowerCase","trim","alert","push","style","form","inputName","error","inputHp","inputAttack","inputDefense","inputSpeed","inputHeight","inputWeight","select","map","t","ul","li","buttonCreate"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { postPokemon, getTypes, getPokemon } from '../actions/index';\r\n\r\nfunction validate(input) {\r\n    let errors = {};\r\n    if(input.name === ''){\r\n        errors.name = 'Es necesario un nombre'\r\n    }\r\n    if(input.hp < 0){\r\n        errors.hp = 'Debe ser mayor a 0'\r\n    }\r\n    if(input.attack < 0){\r\n        errors.attack = 'Debe ser mayor a 0'\r\n    }\r\n    if(input.defense < 0){\r\n        errors.defense = 'Debe ser mayor a 0'\r\n    }\r\n    if(input.speed < 0){\r\n        errors.speed = 'Debe ser mayor a 0'\r\n    }\r\n    if(input.height < 0){\r\n        errors.height = 'Debe ser mayor a 0'\r\n    }\r\n    if(input.weight < 0){\r\n        errors.weight = 'Debe ser mayor a 0'\r\n    }\r\n    if(input.types.length === 0){\r\n        errors.types = 'Debe tener al menos un tipo'\r\n    } else if (!input.image) {\r\n        errors.image = \"Please insert an image URL\";\r\n    } else if (\r\n        !/(http(s?):)([/|.|\\w|\\s|-])*\\.(?:jpg|gif|png)/.test(input.image)\r\n    ) {\r\n        errors.image = \"Please insert a valid image URL\";\r\n    }\r\n    return errors;\r\n}\r\n\r\nconst CreatePokemon = ()=>{\r\n    const dispatch = useDispatch();\r\n    const history = useNavigate();\r\n    const types = useSelector((state) => state.types);\r\n    const pokemons = useSelector((state) => state.pokemons);\r\n    const [input,setInput] = useState({name: \"\",hp: \"\",attack: \"\",defense: \"\",speed: \"\", height: \"\",weight: \"\",types: []});\r\n    const [errors,setErrors] = useState({});\r\n    const [button,setButton] = useState(true);\r\n    \r\n    useEffect(()=>{\r\n        dispatch(getTypes());\r\n        dispatch(getPokemon())\r\n        // eslint-disable-next-line\r\n    },[])\r\n\r\n\r\n    function handleOnChange(e){\r\n        setInput({\r\n            ...input,\r\n            [e.target.name] : e.target.value \r\n        });\r\n        setErrors(\r\n            validate({\r\n              ...input,\r\n              [e.target.name]: e.target.value,\r\n            })\r\n          );\r\n    }\r\n    \r\n    \r\n    \r\n    function handleSelect(e){\r\n        \r\n        setInput({\r\n                ...input,\r\n                types : Array.from(new Set([...input.types , e.target.value]))\r\n            })\r\n        \r\n        if(input.name === ''  || input.hp === '' || input.attack === '' || input.defense === '' || input.height === '' || input.weight === '' || input.types.length < 0){\r\n            setButton(true)\r\n        }else{\r\n            setButton(false)\r\n        }\r\n        \r\n    }\r\n        \r\n        \r\n    \r\n    \r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        if (pokemons.find((poke) =>poke.name.toLowerCase() === input.name.toLowerCase().trim())) {\r\n            alert(\"Ya existe el Pokemon\");\r\n            setErrors({\r\n              ...input,\r\n              [e.target.name]: \"PokÃ©mon duplicated\",\r\n            });\r\n            history.push('/home')\r\n          }else{\r\n            dispatch(postPokemon(input));\r\n            alert('Pokemon Created');\r\n            setInput({\r\n                name: \"\",hp: \"\",attack: \"\",defense: \"\",speed: \"\",height: \"\",weight: \"\",types: []});\r\n            history.push('/home');\r\n          }\r\n        \r\n        \r\n    }\r\n\r\n    \r\n\r\n    return(\r\n        <div >\r\n            <Link to='/home'>\r\n                <button >Volver</button>\r\n            </Link>\r\n            <h1 >CreÃ¡ tu propio Pokemon</h1>\r\n            <form onSubmit={handleSubmit} className={style.form}>\r\n                <label className={style.name}>Nombre: </label>\r\n                <input \r\n                    type='text'\r\n                    value={input.name}\r\n                    name='name'\r\n                    placeholder='Name...'\r\n                    onChange={handleOnChange}\r\n                    className={style.inputName}\r\n                />\r\n                {errors.name && (<p className={style.error}>{errors.name}</p>)}\r\n                <label className={style.hp}>HP: </label>\r\n                <input\r\n                    type='number'\r\n                    value={input.hp}\r\n                    name='hp'\r\n                    placeholder='HP...'\r\n                    onChange={handleOnChange}\r\n                    className={style.inputHp}\r\n                />\r\n                {errors.hp && (<p className={style.error}>{errors.hp}</p>)}\r\n                <label className={style.attack}>Ataque: </label>\r\n                <input\r\n                    type='number'\r\n                    value={input.attack}\r\n                    name='attack'\r\n                    placeholder='Attack...'\r\n                    onChange={handleOnChange}\r\n                    className={style.inputAttack}\r\n                />\r\n                {errors.attack && (<p className={style.error}>{errors.attack}</p>)}\r\n                <label className={style.defense}>Defensa: </label>\r\n                <input\r\n                    type='number'\r\n                    value={input.defense}\r\n                    name='defense'\r\n                    placeholder='Defense...'\r\n                    onChange={handleOnChange}\r\n                    className={style.inputDefense}\r\n                />\r\n                {errors.defense && (<p className={style.error}>{errors.defense}</p>)}\r\n                <label className={style.speed}>Velocidad: </label>\r\n                <input\r\n                    type='number'\r\n                    value={input.speed}\r\n                    name='speed'\r\n                    placeholder='Speed...'\r\n                    onChange={handleOnChange}\r\n                    className={style.inputSpeed}\r\n                />\r\n                {errors.speed && (<p className={style.error}>{errors.speed}</p>)}\r\n                <label className={style.height}>Altura: </label>\r\n                <input\r\n                    type='number'\r\n                    value={input.height}\r\n                    name='height'\r\n                    placeholder='Height...'\r\n                    onChange={handleOnChange}\r\n                    className={style.inputHeight}\r\n                />\r\n                {errors.height && (<p className={style.error}>{errors.height}</p>)}\r\n                <label className={style.weight}>Peso: </label>\r\n                <input\r\n                    type='number'\r\n                    value={input.weight}\r\n                    name='weight'\r\n                    placeholder='Peso...'\r\n                    onChange={handleOnChange}\r\n                    className={style.inputWeight}\r\n                />\r\n                {errors.weight && (<p className={style.error}>{errors.weight}</p>)}\r\n                <select  value='DEFAULT' onChange={(e)=> handleSelect(e)} className={style.select}>\r\n                <option value='DEFAULT' disabled>Tipos</option>\r\n                {\r\n                    types?.map(t=>{\r\n                        return (\r\n                            <option value={t.name} key={t.name}>\r\n                                {t.name}\r\n                            </option>\r\n                        )\r\n                    })\r\n                }\r\n                </select>\r\n                {/*errors.types && (<p className={style.error}>{errors.types}</p>)*/}\r\n                <ul className={style.ul}><li className={style.li}>{input.types?.map(e => e + ' ')}</li></ul>\r\n                <button type='submit' className={style.buttonCreate} disabled={button}>Crear</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePokemon;"]},"metadata":{},"sourceType":"module"}