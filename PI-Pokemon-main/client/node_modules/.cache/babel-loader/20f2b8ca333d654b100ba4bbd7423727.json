{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andre\\\\Desktop\\\\Henry\\\\Final PI\\\\Pi---Pokemon\\\\PI-Pokemon-main\\\\client\\\\src\\\\components\\\\CreatePokemon.jsx\",\n    _s = $RefreshSig$();\n\nimport \"../css/CreatePokemon.css\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postPokemon, getTypes, getPokemon, deletePokemon } from '../actions/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction validate(input) {\n  let errors = {};\n\n  if (input.name === '') {\n    errors.name = 'Name is required';\n  } else if (!input.hp) {\n    errors.hp = \"Hp is required\";\n  } else if (input.hp < 0) {\n    errors.hp = 'Should be greater than zero';\n  } else if (!input.attack) {\n    errors.attack = \"Attack  is required\";\n  } else if (input.attack < 0) {\n    errors.attack = 'Should be greater than zero';\n  } else if (!input.defense) {\n    errors.defense = \"Defense is required\";\n  } else if (input.defense < 0) {\n    errors.defense = 'Should be greater than zero';\n  } else if (!input.speed) {\n    errors.speed = \"Speed is required\";\n  } else if (input.speed < 0) {\n    errors.speed = 'Should be greater than zero';\n  } else if (!input.height) {\n    errors.height = \"Height is required\";\n  } else if (input.height < 0) {\n    errors.height = 'Should be greater than zero';\n  } else if (!input.weight) {\n    errors.weight = \"Weight is required\";\n  } else if (input.weight < 0) {\n    errors.weight = 'Should be greater than zero';\n  } else if (input.types.length === 0) {\n    errors.types = 'Debe tener al menos un tipo';\n  } else if (!input.image) {\n    errors.image = \"Please insert an image URL\";\n  } else if (!/(http(s?):)([/|.|\\w|\\s|-])*\\.(?:jpg|gif|png)/.test(input.image)) {\n    errors.image = \"Please insert a valid image URL\";\n  }\n\n  return errors;\n}\n\nexport function CreatePokemon() {\n  _s();\n\n  const dispatch = useDispatch();\n  const types = useSelector(state => state.types);\n  const pokemons = useSelector(state => state.pokemons);\n  const navigate = useNavigate();\n  const [input, setInput] = useState({\n    name: \"\",\n    image: \"\",\n    hp: \"\",\n    attack: \"\",\n    defense: \"\",\n    speed: \"\",\n    height: \"\",\n    weight: \"\",\n    types: []\n  });\n  const [errors, setErrors] = useState({});\n  const [types2, setTypes] = useState([]);\n  useEffect(() => {\n    dispatch(getTypes());\n    dispatch(getPokemon());\n  }, [dispatch]);\n\n  function handleOnChange(e) {\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  function handleSelect(e) {\n    if (!types2.includes(e.target.value)) {\n      if (types2.length > 0) {\n        setTypes([...types2, e.target.value]);\n      } else {\n        setTypes([e.target.value]);\n      }\n    }\n\n    console.log(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (pokemons.find(poke => poke.name.toLowerCase() === input.name.toLowerCase().trim())) {\n      alert(\"Pokémon duplicated\");\n      setErrors({ ...input,\n        [e.target.name]: \"Pokémon duplicated\"\n      });\n      navigate('/home');\n    } else if (errors.name !== undefined || errors.hp !== undefined || errors.speed !== undefined || errors.attack !== undefined || errors.h !== undefined || errors.life_span !== undefined) {} else {\n      dispatch(postPokemon(input));\n      alert('Pokemon Created');\n      setInput({\n        name: \"\",\n        hp: \"\",\n        attack: \"\",\n        defense: \"\",\n        speed: \"\",\n        height: \"\",\n        weight: \"\",\n        types: []\n      });\n      navigate('/home');\n    }\n  }\n\n  const handleDelete = e => {\n    setTypes(types2.filter(temp => temp !== e.target.value));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Create your own Pokemon!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"boxo\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"cyd\",\n          children: \"Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: input.name,\n          name: \"name\",\n          placeholder: \"Name...\",\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 38\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"cyd\",\n          children: \"HP: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: input.hp,\n          name: \"hp\",\n          placeholder: \"HP...\",\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), errors.hp && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.hp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"cyd\",\n          children: \"Attack: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: input.attack,\n          name: \"attack\",\n          placeholder: \"Attack...\",\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), errors.attack && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.attack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"cyd\",\n          children: \"Defense: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: input.defense,\n          name: \"defense\",\n          placeholder: \"Defense...\",\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this), errors.defense && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.defense\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"cyd\",\n          children: \"Speed: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: input.speed,\n          name: \"speed\",\n          placeholder: \"Speed...\",\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this), errors.speed && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.speed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"cyd\",\n          children: \"Height: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: input.height,\n          name: \"height\",\n          placeholder: \"Height...\",\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), errors.height && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.height\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"cyd\",\n          children: \"Weight: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: input.weight,\n          name: \"weight\",\n          placeholder: \"Weight...\",\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"cyd\",\n          children: \"Image: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: input.image,\n          name: \"image\",\n          placeholder: \"URL image\",\n          onChange: e => handleOnChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this), errors.image && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 38\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cyd\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Type: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"type\",\n            onChange: e => handleSelect(e),\n            type: \"text\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 29\n            }, this), types.map((typ, id) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: typ.name,\n                children: typ.name\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 37\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this), types2.map(t => {\n            return /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [t, /*#__PURE__*/_jsxDEV(\"button\", {\n                  value: t,\n                  onClick: t => handleDelete(t),\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 41\n              }, this)\n            }, t, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 37\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          name: \"submit\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/home\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back\",\n            type: \"submit\",\n            name: \"submit\",\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreatePokemon, \"7Zcs3LoL6IUTE5P+CSs/wpi6UGY=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useNavigate];\n});\n\n_c = CreatePokemon;\nexport default CreatePokemon;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePokemon\");","map":{"version":3,"sources":["C:/Users/andre/Desktop/Henry/Final PI/Pi---Pokemon/PI-Pokemon-main/client/src/components/CreatePokemon.jsx"],"names":["React","useState","useEffect","Link","useNavigate","useDispatch","useSelector","postPokemon","getTypes","getPokemon","deletePokemon","validate","input","errors","name","hp","attack","defense","speed","height","weight","types","length","image","test","CreatePokemon","dispatch","state","pokemons","navigate","setInput","setErrors","types2","setTypes","handleOnChange","e","target","value","handleSelect","includes","console","log","handleSubmit","preventDefault","find","poke","toLowerCase","trim","alert","undefined","h","life_span","handleDelete","filter","temp","map","typ","id","t"],"mappings":"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","sourcesContent":["import \"../css/CreatePokemon.css\"\r\nimport React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { postPokemon, getTypes, getPokemon, deletePokemon } from '../actions/index';\r\n\r\nfunction validate(input) {\r\n    let errors = {};\r\n    if (input.name === '') {\r\n        errors.name = 'Name is required'\r\n    }\r\n    else if (!input.hp) {\r\n        errors.hp = \"Hp is required\";\r\n    }\r\n    else if (input.hp < 0) {\r\n        errors.hp = 'Should be greater than zero'\r\n    }\r\n    else if (!input.attack ) {\r\n        errors.attack  = \"Attack  is required\";\r\n    }\r\n    else if (input.attack < 0) {\r\n        errors.attack = 'Should be greater than zero'\r\n    }\r\n    else if (!input.defense ) {\r\n        errors.defense  = \"Defense is required\";\r\n    }\r\n    else if (input.defense < 0) {\r\n        errors.defense = 'Should be greater than zero'\r\n    }\r\n    else if (!input.speed) {\r\n        errors.speed = \"Speed is required\";\r\n    }\r\n    else if (input.speed < 0) {\r\n        errors.speed = 'Should be greater than zero'\r\n    }\r\n    else if (!input.height) {\r\n        errors.height = \"Height is required\";\r\n    }\r\n    else if (input.height < 0) {\r\n        errors.height = 'Should be greater than zero'\r\n    }\r\n    else if (!input.weight) {\r\n        errors.weight = \"Weight is required\";\r\n    }\r\n    else if (input.weight < 0) {\r\n        errors.weight = 'Should be greater than zero'\r\n    }\r\n    else if (input.types.length === 0) {\r\n        errors.types = 'Debe tener al menos un tipo'\r\n    } else if (!input.image) {\r\n        errors.image = \"Please insert an image URL\";\r\n    } else if (\r\n        !/(http(s?):)([/|.|\\w|\\s|-])*\\.(?:jpg|gif|png)/.test(input.image)\r\n    ) {\r\n        errors.image = \"Please insert a valid image URL\";\r\n    }\r\n    return errors;\r\n}\r\n\r\nexport function CreatePokemon() {\r\n    const dispatch = useDispatch();\r\n    const types = useSelector((state) => state.types);\r\n    const pokemons = useSelector((state) => state.pokemons);\r\n    const navigate = useNavigate();\r\n    const [input, setInput] = useState({ name: \"\", image: \"\", hp: \"\", attack: \"\", defense: \"\", speed: \"\", height: \"\", weight: \"\", types: [] });\r\n    const [errors, setErrors] = useState({});\r\n    const [types2, setTypes] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getTypes());\r\n        dispatch(getPokemon())\r\n    }, [dispatch])\r\n\r\n    function handleOnChange(e) {\r\n        setInput({\r\n            ...input,\r\n            [e.target.name]: e.target.value\r\n        });\r\n        setErrors(\r\n            validate({\r\n                ...input,\r\n                [e.target.name]: e.target.value,\r\n            })\r\n        );\r\n    }\r\n\r\n    function handleSelect(e) {\r\n        if (!types2.includes(e.target.value)) {\r\n            if (types2.length > 0) {\r\n                setTypes([...types2, e.target.value]);\r\n            } else {\r\n                setTypes([e.target.value]);\r\n            }\r\n        }\r\n        console.log(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (pokemons.find((poke) => poke.name.toLowerCase() === input.name.toLowerCase().trim())) {\r\n            alert(\"Pokémon duplicated\");\r\n            setErrors({\r\n                ...input,\r\n                [e.target.name]: \"Pokémon duplicated\",\r\n            });\r\n            navigate('/home')\r\n        } else if(\r\n            errors.name !== undefined ||\r\n            errors.hp !== undefined ||\r\n            errors.speed !== undefined ||\r\n            errors.attack !== undefined ||\r\n            errors.h !== undefined ||\r\n            errors.life_span !== undefined){\r\n\r\n        }\r\n        \r\n        \r\n        \r\n        else{\r\n            dispatch(postPokemon(input));\r\n            alert('Pokemon Created');\r\n            setInput({\r\n                name: \"\", hp: \"\", attack: \"\", defense: \"\", speed: \"\", height: \"\", weight: \"\", types: []\r\n            });\r\n            navigate('/home');\r\n        }\r\n    }\r\n    const handleDelete = e => {\r\n\r\n        setTypes(types2.filter((temp) => temp !== e.target.value))\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"body\">\r\n            <div className=\"create\">\r\n                <h1>Create your own Pokemon!</h1>\r\n                <form className=\"boxo\" onSubmit={handleSubmit}>\r\n                    <label className='cyd'>Name: </label>\r\n                    <input\r\n                        type='text'\r\n                        value={input.name}\r\n                        name='name'\r\n                        placeholder='Name...'\r\n                        onChange={handleOnChange}\r\n\r\n                    />\r\n                    {errors.name && (<p >{errors.name}</p>)}\r\n                    <label className='cyd'>HP: </label>\r\n                    <input\r\n                        type='number'\r\n                        value={input.hp}\r\n                        name='hp'\r\n                        placeholder='HP...'\r\n                        onChange={handleOnChange}\r\n\r\n                    />\r\n                    {errors.hp && (<p>{errors.hp}</p>)}\r\n                    <label className='cyd'>Attack: </label>\r\n                    <input\r\n                        type='number'\r\n                        value={input.attack}\r\n                        name='attack'\r\n                        placeholder='Attack...'\r\n                        onChange={handleOnChange}\r\n\r\n                    />\r\n                    {errors.attack && (<p>{errors.attack}</p>)}\r\n                    <label className='cyd'>Defense: </label>\r\n                    <input\r\n                        type='number'\r\n                        value={input.defense}\r\n                        name='defense'\r\n                        placeholder='Defense...'\r\n                        onChange={handleOnChange}\r\n\r\n                    />\r\n                    {errors.defense && (<p >{errors.defense}</p>)}\r\n                    <label className='cyd' >Speed: </label>\r\n                    <input\r\n                        type='number'\r\n                        value={input.speed}\r\n                        name='speed'\r\n                        placeholder='Speed...'\r\n                        onChange={handleOnChange}\r\n\r\n                    />\r\n                    {errors.speed && (<p>{errors.speed}</p>)}\r\n                    <label className='cyd'>Height: </label>\r\n                    <input\r\n                        type='number'\r\n                        value={input.height}\r\n                        name='height'\r\n                        placeholder='Height...'\r\n                        onChange={handleOnChange}\r\n\r\n                    />\r\n                    {errors.height && (<p>{errors.height}</p>)}\r\n                    <label className='cyd'>Weight: </label>\r\n                    <input\r\n                        type='number'\r\n                        value={input.weight}\r\n                        name='weight'\r\n                        placeholder='Weight...'\r\n                        onChange={handleOnChange}\r\n\r\n                    />\r\n                    <label className='cyd'>Image: </label>\r\n                    <input\r\n                        type='text'\r\n                        value={input.image}\r\n                        name='image'\r\n                        placeholder='URL image'\r\n                        onChange={(e) => handleOnChange(e)}\r\n                    />\r\n                    {errors.image && <p>{errors.image}</p>}\r\n                    <div className='cyd'>\r\n                        <label >Type: </label>\r\n                        <select\r\n                            name='type'\r\n                            onChange={(e) => handleSelect(e)}\r\n                            type='text'\r\n                        >\r\n                            <option value={null}></option>\r\n                            {types.map((typ, id) => {\r\n\r\n                                return (\r\n                                    <option key={id} value={typ.name}>\r\n                                        {typ.name}\r\n                                    </option>\r\n                                );\r\n                            })}\r\n                        </select>\r\n\r\n\r\n                            {types2.map((t) => {\r\n                                return (\r\n                                    <React.Fragment key={t}>\r\n\r\n                                        <div>\r\n                                            {t}\r\n                                            <button value={t} onClick={(t) => handleDelete(t)}>\r\n                                                x\r\n                                            </button>\r\n                                        </div>\r\n                                    </React.Fragment>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                            <br/>\r\n                    {/*errors.types && (<p className={style.error}>{errors.types}</p>) */}\r\n                    \r\n                    <button type='submit' name='submit' >Create</button>\r\n                    <Link to='/home'>\r\n                        <button className=\"back\" type='submit' name='submit'>Back</button>\r\n                    </Link>\r\n                </form>\r\n            </div >\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default CreatePokemon;"]},"metadata":{},"sourceType":"module"}